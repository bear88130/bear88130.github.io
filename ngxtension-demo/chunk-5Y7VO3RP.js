import{a as ve}from"./chunk-HVYJ44IC.js";import{b as F,c as A}from"./chunk-S4OXUUVE.js";import{a as ye}from"./chunk-SHP4F2YS.js";import{a as pe,b as ge,c as fe,e as ue,f as _e,g as be,h as he}from"./chunk-7JR3USC6.js";import{u as ce}from"./chunk-T6GQPN3G.js";import{Aa as W,Ab as E,Bb as D,Da as Z,Fa as $,Ga as M,Lb as m,M as C,Ma as G,Mb as ne,Nb as u,Ta as a,Tb as oe,Ub as ae,Wa as H,X as f,Xa as Y,Y as O,Zb as se,ac as k,bb as y,bc as p,cb as q,cc as me,da as z,f as B,fa as j,fb as J,g as R,gb as b,ia as l,mb as K,nb as Q,o as P,ob as w,p as X,pa as V,pb as T,qa as N,qb as ee,r as I,rb as h,sb as re,tb as te,tc as de,u as S,ub as s,uc as le,va as L,vb as o,wb as c,yb as ie,za as U}from"./chunk-MFECIPXD.js";function De(r,n){r&1&&c(0,"div",2)}var ke=new j("MAT_PROGRESS_BAR_DEFAULT_OPTIONS");var xe=(()=>{class r{_elementRef=l(Z);_ngZone=l(W);_changeDetectorRef=l(se);_renderer=l(H);_cleanupTransitionEnd;_animationMode=l(G,{optional:!0});constructor(){let e=l(ke,{optional:!0});this._isNoopAnimation=this._animationMode==="NoopAnimations",e&&(e.color&&(this.color=this._defaultColor=e.color),this.mode=e.mode||this.mode)}_isNoopAnimation=!1;get color(){return this._color||this._defaultColor}set color(e){this._color=e}_color;_defaultColor="primary";get value(){return this._value}set value(e){this._value=Te(e||0),this._changeDetectorRef.markForCheck()}_value=0;get bufferValue(){return this._bufferValue||0}set bufferValue(e){this._bufferValue=Te(e||0),this._changeDetectorRef.markForCheck()}_bufferValue=0;animationEnd=new U;get mode(){return this._mode}set mode(e){this._mode=e,this._changeDetectorRef.markForCheck()}_mode="determinate";ngAfterViewInit(){this._ngZone.runOutsideAngular(()=>{this._cleanupTransitionEnd=this._renderer.listen(this._elementRef.nativeElement,"transitionend",this._transitionendHandler)})}ngOnDestroy(){this._cleanupTransitionEnd?.()}_getPrimaryBarTransform(){return`scaleX(${this._isIndeterminate()?1:this.value/100})`}_getBufferBarFlexBasis(){return`${this.mode==="buffer"?this.bufferValue:100}%`}_isIndeterminate(){return this.mode==="indeterminate"||this.mode==="query"}_transitionendHandler=e=>{this.animationEnd.observers.length===0||!e.target||!e.target.classList.contains("mdc-linear-progress__primary-bar")||(this.mode==="determinate"||this.mode==="buffer")&&this._ngZone.run(()=>this.animationEnd.next({value:this.value}))};static \u0275fac=function(t){return new(t||r)};static \u0275cmp=y({type:r,selectors:[["mat-progress-bar"]],hostAttrs:["role","progressbar","aria-valuemin","0","aria-valuemax","100","tabindex","-1",1,"mat-mdc-progress-bar","mdc-linear-progress"],hostVars:10,hostBindings:function(t,i){t&2&&(K("aria-valuenow",i._isIndeterminate()?null:i.value)("mode",i.mode),ee("mat-"+i.color),T("_mat-animation-noopable",i._isNoopAnimation)("mdc-linear-progress--animation-ready",!i._isNoopAnimation)("mdc-linear-progress--indeterminate",i._isIndeterminate()))},inputs:{color:"color",value:[2,"value","value",k],bufferValue:[2,"bufferValue","bufferValue",k],mode:"mode"},outputs:{animationEnd:"animationEnd"},exportAs:["matProgressBar"],features:[J],decls:7,vars:5,consts:[["aria-hidden","true",1,"mdc-linear-progress__buffer"],[1,"mdc-linear-progress__buffer-bar"],[1,"mdc-linear-progress__buffer-dots"],["aria-hidden","true",1,"mdc-linear-progress__bar","mdc-linear-progress__primary-bar"],[1,"mdc-linear-progress__bar-inner"],["aria-hidden","true",1,"mdc-linear-progress__bar","mdc-linear-progress__secondary-bar"]],template:function(t,i){t&1&&(s(0,"div",0),c(1,"div",1),b(2,De,1,0,"div",2),o(),s(3,"div",3),c(4,"span",4),o(),s(5,"div",5),c(6,"span",4),o()),t&2&&(a(),w("flex-basis",i._getBufferBarFlexBasis()),a(),h(i.mode==="buffer"?2:-1),a(),w("transform",i._getPrimaryBarTransform()))},styles:[`.mat-mdc-progress-bar{display:block;text-align:start}.mat-mdc-progress-bar[mode=query]{transform:scaleX(-1)}.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__buffer-dots,.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__primary-bar,.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__secondary-bar,.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__bar-inner.mdc-linear-progress__bar-inner{animation:none}.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__primary-bar,.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__buffer-bar{transition:transform 1ms}.mdc-linear-progress{position:relative;width:100%;transform:translateZ(0);outline:1px solid rgba(0,0,0,0);overflow-x:hidden;transition:opacity 250ms 0ms cubic-bezier(0.4, 0, 0.6, 1);height:max(var(--mdc-linear-progress-track-height, 4px),var(--mdc-linear-progress-active-indicator-height, 4px))}@media(forced-colors: active){.mdc-linear-progress{outline-color:CanvasText}}.mdc-linear-progress__bar{position:absolute;top:0;bottom:0;margin:auto 0;width:100%;animation:none;transform-origin:top left;transition:transform 250ms 0ms cubic-bezier(0.4, 0, 0.6, 1);height:var(--mdc-linear-progress-active-indicator-height, 4px)}.mdc-linear-progress--indeterminate .mdc-linear-progress__bar{transition:none}[dir=rtl] .mdc-linear-progress__bar{right:0;transform-origin:center right}.mdc-linear-progress__bar-inner{display:inline-block;position:absolute;width:100%;animation:none;border-top-style:solid;border-color:var(--mdc-linear-progress-active-indicator-color, var(--mat-sys-primary));border-top-width:var(--mdc-linear-progress-active-indicator-height, 4px)}.mdc-linear-progress__buffer{display:flex;position:absolute;top:0;bottom:0;margin:auto 0;width:100%;overflow:hidden;height:var(--mdc-linear-progress-track-height, 4px);border-radius:var(--mdc-linear-progress-track-shape, var(--mat-sys-corner-none))}.mdc-linear-progress__buffer-dots{-webkit-mask-image:url("data:image/svg+xml,%3Csvg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' x='0px' y='0px' enable-background='new 0 0 5 2' xml:space='preserve' viewBox='0 0 5 2' preserveAspectRatio='xMinYMin slice'%3E%3Ccircle cx='1' cy='1' r='1'/%3E%3C/svg%3E");mask-image:url("data:image/svg+xml,%3Csvg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' x='0px' y='0px' enable-background='new 0 0 5 2' xml:space='preserve' viewBox='0 0 5 2' preserveAspectRatio='xMinYMin slice'%3E%3Ccircle cx='1' cy='1' r='1'/%3E%3C/svg%3E");background-repeat:repeat-x;flex:auto;transform:rotate(180deg);animation:mdc-linear-progress-buffering 250ms infinite linear;background-color:var(--mdc-linear-progress-track-color, var(--mat-sys-surface-variant))}@media(forced-colors: active){.mdc-linear-progress__buffer-dots{background-color:ButtonBorder}}[dir=rtl] .mdc-linear-progress__buffer-dots{animation:mdc-linear-progress-buffering-reverse 250ms infinite linear;transform:rotate(0)}.mdc-linear-progress__buffer-bar{flex:0 1 100%;transition:flex-basis 250ms 0ms cubic-bezier(0.4, 0, 0.6, 1);background-color:var(--mdc-linear-progress-track-color, var(--mat-sys-surface-variant))}.mdc-linear-progress__primary-bar{transform:scaleX(0)}.mdc-linear-progress--indeterminate .mdc-linear-progress__primary-bar{left:-145.166611%}.mdc-linear-progress--indeterminate.mdc-linear-progress--animation-ready .mdc-linear-progress__primary-bar{animation:mdc-linear-progress-primary-indeterminate-translate 2s infinite linear}.mdc-linear-progress--indeterminate.mdc-linear-progress--animation-ready .mdc-linear-progress__primary-bar>.mdc-linear-progress__bar-inner{animation:mdc-linear-progress-primary-indeterminate-scale 2s infinite linear}[dir=rtl] .mdc-linear-progress.mdc-linear-progress--animation-ready .mdc-linear-progress__primary-bar{animation-name:mdc-linear-progress-primary-indeterminate-translate-reverse}[dir=rtl] .mdc-linear-progress.mdc-linear-progress--indeterminate .mdc-linear-progress__primary-bar{right:-145.166611%;left:auto}.mdc-linear-progress__secondary-bar{display:none}.mdc-linear-progress--indeterminate .mdc-linear-progress__secondary-bar{left:-54.888891%;display:block}.mdc-linear-progress--indeterminate.mdc-linear-progress--animation-ready .mdc-linear-progress__secondary-bar{animation:mdc-linear-progress-secondary-indeterminate-translate 2s infinite linear}.mdc-linear-progress--indeterminate.mdc-linear-progress--animation-ready .mdc-linear-progress__secondary-bar>.mdc-linear-progress__bar-inner{animation:mdc-linear-progress-secondary-indeterminate-scale 2s infinite linear}[dir=rtl] .mdc-linear-progress.mdc-linear-progress--animation-ready .mdc-linear-progress__secondary-bar{animation-name:mdc-linear-progress-secondary-indeterminate-translate-reverse}[dir=rtl] .mdc-linear-progress.mdc-linear-progress--indeterminate .mdc-linear-progress__secondary-bar{right:-54.888891%;left:auto}@keyframes mdc-linear-progress-buffering{from{transform:rotate(180deg) translateX(calc(var(--mdc-linear-progress-track-height, 4px) * -2.5))}}@keyframes mdc-linear-progress-primary-indeterminate-translate{0%{transform:translateX(0)}20%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(0)}59.15%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(83.67142%)}100%{transform:translateX(200.611057%)}}@keyframes mdc-linear-progress-primary-indeterminate-scale{0%{transform:scaleX(0.08)}36.65%{animation-timing-function:cubic-bezier(0.334731, 0.12482, 0.785844, 1);transform:scaleX(0.08)}69.15%{animation-timing-function:cubic-bezier(0.06, 0.11, 0.6, 1);transform:scaleX(0.661479)}100%{transform:scaleX(0.08)}}@keyframes mdc-linear-progress-secondary-indeterminate-translate{0%{animation-timing-function:cubic-bezier(0.15, 0, 0.515058, 0.409685);transform:translateX(0)}25%{animation-timing-function:cubic-bezier(0.31033, 0.284058, 0.8, 0.733712);transform:translateX(37.651913%)}48.35%{animation-timing-function:cubic-bezier(0.4, 0.627035, 0.6, 0.902026);transform:translateX(84.386165%)}100%{transform:translateX(160.277782%)}}@keyframes mdc-linear-progress-secondary-indeterminate-scale{0%{animation-timing-function:cubic-bezier(0.205028, 0.057051, 0.57661, 0.453971);transform:scaleX(0.08)}19.15%{animation-timing-function:cubic-bezier(0.152313, 0.196432, 0.648374, 1.004315);transform:scaleX(0.457104)}44.15%{animation-timing-function:cubic-bezier(0.257759, -0.003163, 0.211762, 1.38179);transform:scaleX(0.72796)}100%{transform:scaleX(0.08)}}@keyframes mdc-linear-progress-primary-indeterminate-translate-reverse{0%{transform:translateX(0)}20%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(0)}59.15%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(-83.67142%)}100%{transform:translateX(-200.611057%)}}@keyframes mdc-linear-progress-secondary-indeterminate-translate-reverse{0%{animation-timing-function:cubic-bezier(0.15, 0, 0.515058, 0.409685);transform:translateX(0)}25%{animation-timing-function:cubic-bezier(0.31033, 0.284058, 0.8, 0.733712);transform:translateX(-37.651913%)}48.35%{animation-timing-function:cubic-bezier(0.4, 0.627035, 0.6, 0.902026);transform:translateX(-84.386165%)}100%{transform:translateX(-160.277782%)}}@keyframes mdc-linear-progress-buffering-reverse{from{transform:translateX(-10px)}}`],encapsulation:2,changeDetection:0})}return r})();function Te(r,n=0,e=100){return Math.max(n,Math.min(e,r))}var Se=(()=>{class r{static \u0275fac=function(t){return new(t||r)};static \u0275mod=q({type:r});static \u0275inj=z({imports:[ce]})}return r})();function x(...r){let{normalizedSources:n,hasInitValue:e,operator:t,options:i}=Ae(r),g=ye(x,i?.injector);return e?A(S(n).pipe(t),{initialValue:i.initialValue,injector:g}):A(S(n).pipe(t),{injector:g,requireSync:!0})}function Ae(r){if(!r||!r.length||typeof r[0]!="object")throw new TypeError("derivedFrom needs sources");let n=typeof r[1]=="function";if(r.length==3&&!n)throw new TypeError("derivedFrom needs pipeable operator as a second argument");n||r.splice(1,0,B);let[e,t,i]=r,g=!!i&&"initialValue"in i;return{normalizedSources:Object.entries(e).reduce((_,[v,d])=>{if($(d))_[v]=F(d,{injector:i?.injector}).pipe(f(me(d)));else if(I(d))_[v]=d.pipe(C());else if(typeof d=="function"){let we=p(d);_[v]=F(we,{injector:i?.injector}).pipe(f(d()))}else _[v]=P(d).pipe(C());return _},Array.isArray(e)?[]:{}),operator:t,hasInitValue:g,options:i}}var Be=(r,n)=>n.id;function Re(r,n){r&1&&c(0,"mat-progress-bar",2)}function Pe(r,n){if(r&1){let e=ie();s(0,"div",3)(1,"span"),m(2),o(),s(3,"button",5),E("click",function(){let i=V(e).$implicit,g=D();return N(g.toggleTodo(i.id))}),m(4),o()()}if(r&2){let e=n.$implicit;a(),T("completed",e.completed),a(),ne(e.title),a(2),u(" ",e.completed?"Undo":"Complete"," ")}}function Xe(r,n){if(r&1&&(m(0),oe(1,"json")),r&2){let e=D();u(" ",ae(1,1,e.todosDerivedFrom())," ")}}var Ce=class r{constructor(n){this.dataService=n;this.todosSignal=M([]),this.todos=p(()=>this.todosSignal()),this.totalTodos=p(()=>{console.log("totalTodos computed called");let e=this.todos();return console.log("todos:",e),console.log("totalTodos length:",e.length),e.length}),this.completedTodos=p(()=>this.todos().filter(e=>e.completed).length),this.completionRate=p(()=>{let e=this.totalTodos();return e===0?0:Math.round(this.completedTodos()/e*100)}),this.todosDerivedFrom=x([this.dataService.getTodos().pipe(f([])),this.totalTodos,this.completedTodos]),console.log(this.todosDerivedFrom()),this.otherDerivedFrom=x([this.dataService.getTodos().pipe(f([])),this.totalTodos,this.completedTodos],R(O(()=>X([5])))),console.log(this.otherDerivedFrom())}todosSignal;isLoading=M(!1);injector=l(L);todos;totalTodos;completedTodos;completionRate;todosDerivedFrom;otherDerivedFrom;ngOnInit(){this.isLoading.set(!0),this.dataService.getTodos().subscribe(n=>{this.todosSignal.set(n),this.isLoading.set(!1)})}toggleTodo(n){this.isLoading.set(!0),this.dataService.toggleTodo(n).subscribe(()=>{this.isLoading.set(!1)})}addNewTodo(){let n=["Learn RxJS","Practice Angular","Study TypeScript","Build Projects","Write Documentation"],e=n[Math.floor(Math.random()*n.length)];this.isLoading.set(!0);let t=[...this.todos()];this.dataService.addTodo(e).subscribe(i=>{console.log(this.todos()),this.todosSignal.set([...t,i]),this.todosDerivedFrom&&console.log(this.todosDerivedFrom()),this.isLoading.set(!1)})}static \u0275fac=function(e){return new(e||r)(Y(ve))};static \u0275cmp=y({type:r,selectors:[["app-derived-from"]],decls:28,vars:6,consts:[[1,"demo-section"],["mode","determinate",3,"value"],["mode","indeterminate"],[1,"todo-item"],["mat-raised-button","","color","primary",3,"click"],["mat-button","",3,"click"]],template:function(e,t){e&1&&(s(0,"mat-card")(1,"mat-card-header")(2,"mat-card-title"),m(3,"derivedFrom Demo"),o()(),s(4,"mat-card-content")(5,"div",0)(6,"h3"),m(7,"Todos Status"),o(),s(8,"p"),m(9),o(),s(10,"p"),m(11),o(),s(12,"p"),m(13),o(),c(14,"mat-progress-bar",1),o(),s(15,"div",0)(16,"h3"),m(17,"Todo List"),o(),b(18,Re,1,0,"mat-progress-bar",2),re(19,Pe,5,4,"div",3,Be),o(),s(21,"div",0)(22,"h3"),m(23,"Todos Derived From"),o(),b(24,Xe,2,3),o(),s(25,"div",0)(26,"button",4),E("click",function(){return t.addNewTodo()}),m(27," Add Random Todo "),o()()()()),e&2&&(a(9),u("Total Todos: ",t.totalTodos(),""),a(2),u("Completed Todos: ",t.completedTodos(),""),a(2),u("Completion Rate: ",t.completionRate(),"%"),a(),Q("value",t.completionRate()),a(4),h(t.isLoading()?18:-1),a(),te(t.todos()),a(5),h(t.todosDerivedFrom?24:-1))},dependencies:[le,de,_e,pe,fe,ue,ge,he,be,Se,xe],styles:[".demo-section[_ngcontent-%COMP%]{margin:20px 0}.todo-item[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:8px 0;border-bottom:1px solid #eee}.completed[_ngcontent-%COMP%]{text-decoration:line-through;color:#888}"]})};export{Ce as DerivedFromComponent};
