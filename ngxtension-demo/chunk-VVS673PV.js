import{a as O}from"./chunk-HVYJ44IC.js";import{c as _}from"./chunk-S4OXUUVE.js";import{a as P}from"./chunk-SHP4F2YS.js";import{a as F,b as I,c as V,d as B,e as j,f as A,g as W,h as $}from"./chunk-7JR3USC6.js";import"./chunk-T6GQPN3G.js";import{Ab as p,Bb as d,Ga as f,Lb as r,Mb as h,Nb as u,Ta as l,a as L,b,bb as D,bc as w,cc as M,gb as c,ia as E,pa as C,pb as x,qa as S,rb as s,sb as v,tb as y,ub as n,uc as k,vb as o,yb as T}from"./chunk-MFECIPXD.js";function z(t,i){let e=P(z,i?.injector),a;return w(()=>(a||(a=M(()=>_(t,b(L({},i),{injector:e})))),a()))}var H=(t,i)=>i.id;function q(t,i){if(t&1){let e=T();n(0,"div",5)(1,"span"),r(2),o(),n(3,"button",6),p("click",function(){let m=C(e).$implicit,g=d(3);return S(g.toggleTodo(m.id))}),r(4),o()()}if(t&2){let e=i.$implicit;l(),x("line-through",e.completed),l(),h(e.title),l(2),u(" ",e.completed?"\u53D6\u6D88\u5B8C\u6210":"\u6A19\u8A18\u5B8C\u6210"," ")}}function G(t,i){t&1&&(n(0,"div",4),v(1,q,5,4,"div",5,H),o()),t&2&&(l(),y(i))}function J(t,i){t&1&&(n(0,"p"),r(1,"\u8F09\u5165\u4E2D..."),o())}function K(t,i){if(t&1){let e=T();n(0,"div",5)(1,"span"),r(2),o(),n(3,"button",6),p("click",function(){let m=C(e).$implicit,g=d(3);return S(g.toggleTodo(m.id))}),r(4),o()()}if(t&2){let e=i.$implicit;l(),x("line-through",e.completed),l(),h(e.title),l(2),u(" ",e.completed?"\u53D6\u6D88\u5B8C\u6210":"\u6A19\u8A18\u5B8C\u6210"," ")}}function Q(t,i){if(t&1&&(n(0,"div",4),v(1,K,5,4,"div",5,H),o()),t&2){let e=d(2);l(),y(e.todosWithSignals())}}function R(t,i){t&1&&(n(0,"p"),r(1,"\u8F09\u5165\u4E2D..."),o())}function U(t,i){if(t&1&&(n(0,"mat-card",2)(1,"mat-card-header")(2,"mat-card-title"),r(3,"Lazy Signal Demo"),o(),n(4,"mat-card-subtitle"),r(5," Lazy Signal \u8F09\u5165 "),o()(),n(6,"mat-card-content",3),c(7,G,3,0,"div",4)(8,J,2,0,"p"),o()(),n(9,"mat-card",2)(10,"mat-card-header")(11,"mat-card-title"),r(12,"Lazy Signal Demo"),o(),n(13,"mat-card-subtitle"),r(14," \u4E00\u822C Signal \u8F09\u5165 "),o()(),n(15,"mat-card-content",3),c(16,Q,3,0,"div",4)(17,R,2,0,"p"),o()()),t&2){let e,a=d();l(7),s((e=a.todosWithLazySignal())?7:8,e),l(9),s(a.todosWithSignals()?16:17)}}var N=class t{todos=f([]);showSignals=f(!1);dataService=E(O);todosWithSignals=_(this.dataService.getTodosDelay(),{initialValue:[]});todosWithLazySignal=z(this.dataService.getTodosDelay(),{initialValue:[]});constructor(){this.loadTodos()}ngOnInit(){}loadTodos(){this.dataService.getTodos().subscribe(i=>this.todos.set(i))}toggleTodo(i){this.dataService.toggleTodo(i).subscribe(()=>{this.loadTodos()})}static \u0275fac=function(e){return new(e||t)};static \u0275cmp=D({type:t,selectors:[["app-lazy-signal"]],decls:4,vars:2,consts:[[1,"flex","justify-center"],["color","primary","mat-stroked-button","",3,"click"],[1,"max-w-2xl","mx-auto","mt-3"],[1,"p-4"],[1,"space-y-2"],[1,"flex","items-center","gap-2","p-2","border","rounded"],["mat-button","",3,"click"]],template:function(e,a){e&1&&(n(0,"div",0)(1,"button",1),p("click",function(){return a.showSignals.set(!a.showSignals())}),r(2),o()(),c(3,U,18,2)),e&2&&(l(2),u(" ",a.showSignals()?"\u96B1\u85CF":"\u986F\u793A"," "),l(),s(a.showSignals()?3:-1))},dependencies:[k,A,F,V,j,B,I,$,W],encapsulation:2})};export{N as LazySignalComponent};
